<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Promo Tile Studio (Marquee 1400x560)</title>
    <script src="html2canvas.min.js"></script>
    <script src="dom-to-image.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap');

        body {
            margin: 0;
            padding: 40px;
            background: #222;
            font-family: 'Inter', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* The Main Artboard - NO box-shadow to avoid capture artifacts */
        #artboard {
            width: 1400px;
            height: 560px;
            position: relative;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            /* Shadow is ONLY on the wrapper for preview, not on artboard itself */
        }

        /* Preview wrapper just adds visual shadow for studio view */
        .artboard-wrapper {
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
        }

        .molecules-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
            overflow: hidden;
        }

        .molecule {
            position: absolute;
            filter: drop-shadow(0px 4px 6px rgba(0, 0, 0, 0.1));
        }

        .molecule svg {
            width: 100%;
            height: 100%;
            overflow: visible;
        }

        .molecule path {
            stroke: #1a1a2e;
            stroke-width: 2.5px !important;
            fill: none;
        }

        .promo-text {
            z-index: 10;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            white-space: nowrap;
        }

        .latex-text {
            font-size: 130px;
            line-height: 1.0;
            font-weight: 800;
            color: #2196F3;
            letter-spacing: -4px;
            text-transform: uppercase;
            text-shadow: 2px 2px 0px rgba(255, 255, 255, 0.5), 0px 10px 20px rgba(33, 150, 243, 0.3);
            margin-bottom: -10px;
        }

        .chemistry-text {
            font-size: 130px;
            line-height: 1.0;
            font-weight: 800;
            color: #1a1a1a;
            letter-spacing: -4px;
            text-transform: uppercase;
            text-shadow: 2px 2px 0px rgba(255, 255, 255, 0.5), 0px 10px 20px rgba(0, 0, 0, 0.1);
        }

        /* Molecule Positions - closer to center */
        #mol1 {
            top: 5%;
            left: 10%;
            width: 280px;
            opacity: 0.6;
            transform: rotate(-15deg);
        }

        #mol2 {
            bottom: 5%;
            right: 10%;
            width: 320px;
            opacity: 0.7;
            transform: rotate(20deg);
        }

        #mol3 {
            top: 5%;
            right: 5%;
            width: 300px;
            opacity: 0.5;
            transform: rotate(10deg) scale(0.8);
        }

        #mol4 {
            bottom: 15%;
            left: 22%;
            width: 200px;
            opacity: 0.5;
            transform: rotate(-30deg);
            filter: blur(1px);
        }

        #mol5 {
            top: 40%;
            left: 75%;
            width: 140px;
            opacity: 0.3;
            transform: rotate(45deg);
            filter: blur(2px);
        }

        .controls {
            margin-top: 30px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        button {
            padding: 12px 20px;
            font-size: 14px;
            font-weight: 600;
            background: #2196F3;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.4);
            min-width: 140px;
        }

        button.secondary {
            background: #555;
        }

        button:hover {
            opacity: 0.9;
        }

        button.loading {
            cursor: wait;
            opacity: 0.7;
        }
    </style>
</head>

<body>

    <div class="artboard-wrapper">
        <div id="artboard">
            <div class="molecules-container">
                <div id="mol1" class="molecule">
                    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 264 148'>
                        <path d='M 13.2,94.7 L 62.6,77.6' />
                        <path d='M 62.6,77.6 L 70.7,35.4' />
                        <path d='M 62.6,77.6 L 102.1,111.8' />
                        <path d='M 102.1,111.8 L 151.4,94.7' />
                        <path d='M 151.4,94.7 L 161.3,43.4' />
                        <path d='M 160.0,91.7 L 168.2,49.3' />
                        <path d='M 161.3,43.4 L 210.7,26.3' />
                        <path d='M 210.7,26.3 L 250.2,60.5' />
                        <path d='M 209.0,35.2 L 241.6,63.5' />
                        <path d='M 250.2,60.5 L 240.3,111.8' />
                        <path d='M 240.3,111.8 L 190.9,128.9' />
                        <path d='M 233.5,105.9 L 192.7,120.0' />
                        <path d='M 190.9,128.9 L 151.4,94.7' />
                    </svg>
                </div>
                <div id="mol2" class="molecule">
                    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 195 137'>
                        <path d='M 184.8,68.3 L 126.4,68.3' />
                        <path d='M 126.4,68.3 L 97.2,118.9' />
                        <path d='M 116.3,68.3 L 92.2,110.1' />
                        <path d='M 97.2,118.9 L 38.9,118.9' />
                        <path d='M 38.9,118.9 L 9.8,68.3' />
                        <path d='M 44.0,110.1 L 19.9,68.3' />
                        <path d='M 9.8,68.3 L 38.9,17.8' />
                        <path d='M 38.9,17.8 L 97.3,17.8' />
                        <path d='M 44.0,26.6 L 92.2,26.6' />
                        <path d='M 97.3,17.8 L 126.4,68.3' />
                    </svg>
                </div>
                <div id="mol3" class="molecule">
                    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 305 205'>
                        <path d='M 44.7,60.0 L 69.1,84.2' />
                        <path d='M 69.1,84.2 L 110.4,73.0' />
                        <path d='M 110.4,73.0 L 140.8,103.2' />
                        <path d='M 140.8,103.2 L 134.2,145.5' />
                        <path d='M 146.4,108.8 L 141.3,141.9' />
                        <path d='M 134.2,145.5 L 166.5,161.8' />
                        <path d='M 178.5,158.8 L 202.7,134.4' />
                        <path d='M 202.7,134.4 L 245.5,136.5' />
                        <path d='M 206.7,128.2 L 242.1,129.9' />
                        <path d='M 245.5,136.5 L 268.7,100.5' />
                        <path d='M 268.7,100.5 L 249.1,62.4' />
                        <path d='M 261.3,100.2 L 245.1,68.6' />
                        <path d='M 249.1,62.4 L 267.3,34.1' />
                        <path d='M 249.1,62.4 L 206.3,60.3' />
                        <path d='M 206.3,60.3 L 183.1,96.3' />
                        <path d='M 209.7,66.9 L 190.5,96.7' />
                        <path d='M 183.1,96.3 L 140.8,103.2' />
                        <path d='M 183.1,96.3 L 202.7,134.4' />
                    </svg>
                </div>
                <div id="mol4" class="molecule">
                    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 266 228'>
                        <path d='M 252.3,155.5 L 227.7,124.8' />
                        <path d='M 223.0,107.1 L 234.0,67.0' />
                        <path d='M 234.0,67.0 L 198.7,43.9' />
                        <path d='M 225.2,70.4 L 194.5,50.3' />
                        <path d='M 184.5,44.9 L 152.0,70.9' />
                        <path d='M 152.0,70.9 L 170.0,118.3' />
                        <path d='M 161.1,73.4 L 175.1,110.5' />
                        <path d='M 170.0,118.3 L 137.9,157.6' />
                        <path d='M 133.5,156.9 L 148.9,197.4' />
                        <path d='M 140.6,154.2 L 156.0,194.7' />
                        <path d='M 137.9,157.6 L 95.0,150.6' />
                        <path d='M 80.7,158.1 L 55.7,188.6' />
                        <path d='M 84.5,140.5 L 69.9,102.0' />
                        <path d='M 72.7,98.6 L 28.8,91.4' />
                        <path d='M 71.5,106.1 L 27.5,98.9' />
                        <path d='M 69.9,102.0 L 94.9,71.4' />
                        <path d='M 98.7,53.9 L 84.1,15.3' />
                        <path d='M 170.0,118.3 L 213.5,116.3' />
                        <path d='M 109.1,63.9 L 152.0,70.9' />
                    </svg>
                </div>
                <div id="mol5" class="molecule">
                    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308 165'>
                        <path d='M 44.9,76.9 L 79.9,66.2' />
                        <path d='M 79.9,66.2 L 111.2,95.6' />
                        <path d='M 111.2,95.6 L 152.3,83.1' />
                        <path d='M 152.3,83.1 L 162.0,41.3' />
                        <path d='M 159.4,81.0 L 167.4,46.4' />
                        <path d='M 162.0,41.3 L 203.1,28.9' />
                        <path d='M 203.1,28.9 L 234.4,58.2' />
                        <path d='M 201.4,36.1 L 227.3,60.4' />
                        <path d='M 234.4,58.2 L 268.4,47.9' />
                        <path d='M 234.4,58.2 L 224.6,100.0' />
                        <path d='M 224.6,100.0 L 249.0,122.7' />
                        <path d='M 224.6,100.0 L 183.6,112.4' />
                        <path d='M 219.2,94.9 L 185.3,105.2' />
                        <path d='M 183.6,112.4 L 152.3,83.1' />
                    </svg>
                </div>
            </div>
            <div class="promo-text">
                <span class="latex-text">LaTeX</span>
                <span class="chemistry-text">Chemistry</span>
            </div>
        </div>
    </div>

    <div class="controls">
        <button onclick="downloadImage('png')" id="btn-png">Download PNG</button>
        <button onclick="downloadImage('jpeg')" id="btn-jpeg" class="secondary">Download JPG</button>
        <button onclick="downloadImage('svg')" id="btn-svg" class="secondary">Download SVG</button>
    </div>

    <script>
        function downloadImage(format) {
            const btn = document.getElementById('btn-' + format);
            const originalText = btn.textContent;
            btn.textContent = 'Wait...';
            btn.classList.add('loading');

            const artboard = document.getElementById("artboard");

            let promise;
            const options = { width: 1400, height: 560, bgcolor: '#ffffff' };

            if (format === 'svg') {
                promise = domtoimage.toSvg(artboard, options);
            } else if (format === 'jpeg') {
                promise = domtoimage.toJpeg(artboard, { ...options, quality: 0.95 });
            } else {
                promise = domtoimage.toPng(artboard, options);
            }

            promise.then(function (dataUrl) {
                const link = document.createElement('a');
                link.download = 'chemistry-latex-marquee.' + format;
                link.href = dataUrl;
                link.click();
                btn.textContent = 'Done!';
                btn.classList.remove('loading');
                setTimeout(() => btn.textContent = originalText, 2000);
            }).catch(function (error) {
                console.error('Export error:', error);
                alert('Error: ' + error.message);
                btn.textContent = originalText;
                btn.classList.remove('loading');
            });
        }
    </script>
</body>

</html>